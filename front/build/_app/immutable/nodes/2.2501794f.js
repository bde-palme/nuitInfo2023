import{s as U,n as M,r as B,o as Y,b as S}from"../chunks/scheduler.e108d1fd.js";import{S as Q,i as X,g as k,s as z,h as g,j as E,y as V,c as C,f as j,k as P,l as O,a as G,x as b,z as y,A as T}from"../chunks/index.8be4893e.js";function J(a){return a==="start"?{input:a,textResult:`Bienvenue dans le terminal d'inscription à la nuit de l'info !
        Souhaitez-vous créer une nouvelle équipe ou modifier une équipe existante ?
        - Pour créer une nouvelle équipe, tapez "create-team"
        - Pour modifier une équipe existante, tapez "edit-team" 
        `,nextPrefix:null,callback:null}:a==="create-team"?K(a):{input:a,textResult:"Commande inconnue : utiliser start pour commencer",nextPrefix:null,callback:null}}const n="[<span class='text-red-400 font-bold'>CREATE-TEAM</span>]";function K(a){let l={teamName:"",members:[{firstName:"",lastName:"",email:"",discord:null,phone:"",hasLessons:null,professors:"",studies:"",pmr:!1}],howDidYouHear:"",solo:!1};return{input:a,textResult:`${n} Lancement de la création d'équipe.`,nextPrefix:`${n} <span class='font-bold'>Nom d'équipe</span> :`,callback:i};function i(e){return l.teamName=e,{input:e,textResult:`${n} Ok !
                Lancement de la procédure d'ajout du <span class="font-bold">membre 1</span> à l'équipe.,
            `,nextPrefix:`${n} <span class='font-bold'>Prénom</span> :`,callback:t=>u(t,0)}}function u(e,t){return l.members[t]={firstName:"",lastName:"",email:"",discord:null,phone:"",hasLessons:null,professors:"",studies:"",pmr:!1},l.members[t].firstName=e,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Nom de famille</span> :`,callback:s=>x(s,t)}}function x(e,t){return l.members[t].lastName=e,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Email</span> :`,callback:s=>r(s,t)}}function r(e,t){return l.members[t].email=e,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Téléphone</span> :`,callback:s=>c(s,t)}}function c(e,t){return l.members[t].phone=e,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Pseudo discord</span> (Facultatif, laissez vide) :`,callback:s=>o(s,t)}}function o(e,t){return l.members[t].discord=e,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Ce membre a t'il des cours jeudi 7 décembre après 16h30 ou le matin du vendredi 8  ?</span> (oui/non) :`,callback:s=>p(s,t)}}function p(e,t){return e!="oui"&&e!="non"?{input:e,textResult:`${n} Veuillez répondre par oui ou non`,nextPrefix:`${n} <span class='font-bold'>Ce membre a t'il cours jeudi 7 décembre après 16h30 ou le matin du vendredi 8  ?</span> (oui/non) :`,callback:s=>p(s,t)}:e==="oui"?(l.members[t].hasLessons=!0,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Quels sont les noms professeurs avec qui il a cours ?</span> :`,callback:s=>$(s,t)}):{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Formation poursuivie</span> (nom de ta formation) :`,callback:s=>h(s,t)}}function $(e,t){return l.members[t].professors=e,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Formation poursuivie</span> (nom de ta formation) :`,callback:s=>h(s,t)}}function h(e,t){return l.members[t].studies=e,{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Situation de mobilités réduite ?</span> (oui/non) :`,callback:s=>q(s,t)}}function q(e,t){if(e!="oui"&&e!="non")return{input:e,textResult:`${n} Veuillez répondre par oui ou non`,nextPrefix:`${n} <span class='font-bold'>Situation de mobilités réduite ?</span> (oui/non) :`,callback:s=>q(s,t)};{const s=e==="oui";return l.members[t].pmr=s,{input:e,textResult:`${n} Ok !
                    ${n} Ajout du membre terminée. Le processus est en cours...
                    ${n} Validé !`,nextPrefix:`${n} <span class='font-bold'>Souhaites-tu ajouter un membre supplémentaire à ton équipe (oui/non) ?</span> (pas de limite de membre):`,callback:m=>_(m,t)}}}function _(e,t){return e==="oui"?{input:e,textResult:`${n} Ok ! Lancement de la procédure d'ajout d'un nouveau membre.
                ${n} ----- Ajout du <span class="font-bold">membre ${t+2}</span> à l'équipe -----`,nextPrefix:`${n} <span class='font-bold'>Prénom</span> :`,callback:s=>u(s,t+1)}:e==="non"?t===0?{input:e,textResult:`${n} Attention, vous êtes seul·e dans votre équipe, ce qui n'est pas autorisé.
                    ${n} Vous pourrez ajouter des membres à votre équipe plus tard en utilisant la commande "edit-team"
                    ${n} Si vous souhaitez qu'on vous ajoute à une équipe de joueurs solo, tapez "oui", sinon tapez "non" et revenez éditer votre équipe plus tard.`,nextPrefix:`${n} <span class='font-bold'>Souhaitez-vous qu'on vous ajoute à une équipe de joueurs solo ?</span> (oui/non) :`,callback:d}:{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Comment as-tu entendu parler de la nuit de l'info ?</span> :`,callback:f}:{input:e,textResult:`${n} Veuillez répondre par oui ou non`,nextPrefix:`${n} <span class='font-bold'>Souhaites-tu ajouter un membre supplémentaire à ton équipe ?</span> (pas de limite de membre):`,callback:s=>_(s,t)}}function d(e){return e!="oui"&&e!="non"?{input:e,textResult:`${n} Veuillez répondre par oui ou non`,nextPrefix:`${n} <span class='font-bold'>Souhaitez-vous qu'on vous ajoute à une équipe de joueurs solo ?</span> (oui/non) :`,callback:d}:(l.solo=e==="oui",{input:e,textResult:`${n} Ok !`,nextPrefix:`${n} <span class='font-bold'>Comment as-tu entendu parler de la nuit de l'info ?</span> :`,callback:f})}function f(e){return l.howDidYouHear=e,{input:e,textResult:`${n} Ok !
            ${n} Félicitations, votre équipe a été créée avec succès !`,nextPrefix:null,callback:null}}}const W=""+new URL("../assets/ndl-logo.3c24f897.svg",import.meta.url).href,Z=""+new URL("../assets/close.1c8bf653.svg",import.meta.url).href;function I(a){let l,i,u,x=`<h1 class="text-indigo-50 font-bold">Terminal d&#39;inscription</h1> <img src="${Z}" alt="fake close button" class="cursor-pointer stroke-slate-50"/>`,r,c,o,p=`<img src="${W}" class="w-2/3" alt="la nuit de l&#39;info"/>`,$,h,q="Bienvenue à la nuit de l'info !",_,d,f,e,t,s,m,N,D;return{c(){l=k("div"),i=k("div"),u=k("div"),u.innerHTML=x,r=z(),c=k("div"),o=k("div"),o.innerHTML=p,$=z(),h=k("h1"),h.textContent=q,_=z(),d=k("div"),f=z(),e=k("div"),t=k("p"),s=z(),m=k("input"),this.h()},l(v){l=g(v,"DIV",{class:!0});var w=E(l);i=g(w,"DIV",{class:!0});var L=E(i);u=g(L,"DIV",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-180lk9g"&&(u.innerHTML=x),r=C(L),c=g(L,"DIV",{class:!0});var R=E(c);o=g(R,"DIV",{class:!0,"data-svelte-h":!0}),V(o)!=="svelte-vi1ps3"&&(o.innerHTML=p),$=C(R),h=g(R,"H1",{class:!0,"data-svelte-h":!0}),V(h)!=="svelte-19a89si"&&(h.textContent=q),_=C(R),d=g(R,"DIV",{class:!0}),E(d).forEach(j),f=C(R),e=g(R,"DIV",{class:!0});var A=E(e);t=g(A,"P",{class:!0}),E(t).forEach(j),s=C(A),m=g(A,"INPUT",{class:!0}),A.forEach(j),R.forEach(j),L.forEach(j),w.forEach(j),this.h()},h(){P(u,"class","w-full h-auto py-[1vh] px-[2vw] bg-indigo-700 rounded-t-[0.6vw] flex justify-between"),P(o,"class","transition-[width] ease-in-out self-start"),O(o,"transition-duration",F+"ms"),O(o,"width",a[4].length>0?"10%":"40%"),P(h,"class","text-2xl font-space font-bold w-full text-indigo-100"),P(d,"class","w-full overflow-scroll transition-[height] ease-in-out grow shrink text-indigo-50 "),O(d,"transition-duration",F+"ms"),O(d,"height",a[3]+"px"),P(t,"class","max-w-3/4 grow-0 shrink text-indigo-50"),P(m,"class","w-full min-w-[150px] flex-1 shrink-2 outline-none border-b-2 border-indigo-50 bg-indigo-950 text-indigo-50 mx-[1vw]"),P(e,"class","w-full flex"),P(c,"class","p-[2vw] grow shrink w-full flex flex-col justify-between max-h-full min-h-0"),P(i,"class","border border-indigo-700 border-2 w-full max-h-full flex flex-col items-center rounded-[1vw] relative"),P(l,"class","absolute py-[3vh] h-[100vh] w-full px-[2vw] left-1/2 -translate-x-1/2 flex flex-col items-center justify-center bg-indigo-950")},m(v,w){G(v,l,w),b(l,i),b(i,u),b(i,r),b(i,c),b(c,o),b(c,$),b(c,h),b(c,_),b(c,d),a[7](d),b(c,f),b(c,e),b(e,t),a[8](t),b(e,s),b(e,m),y(m,a[0]),a[10](m),N||(D=[T(m,"keydown",a[6]),T(m,"input",a[9])],N=!0)},p(v,[w]){w&16&&O(o,"width",v[4].length>0?"10%":"40%"),w&8&&O(d,"height",v[3]+"px"),w&1&&m.value!==v[0]&&y(m,v[0])},i:M,o:M,d(v){v&&j(l),a[7](null),a[8](null),a[10](null),N=!1,B(D)}}}const H="<span class='font-bold text-lime-500'>ndli@palme:~$ </span>",F=250;function ee(a,l,i){let u="",x,r,c=0,o=[],p;function $(f){if(f.key!="Enter"||!r||!p)return;let e;if(o.length==0||o[o.length-1].callback==null)e=J(u);else if(o[o.length-1].callback!=null)e=o[o.length-1].callback(u);else throw new Error("Invalid state");o.push(e),i(4,o),console.log(p,e.nextPrefix,H),i(5,p.innerHTML=e.nextPrefix||H,p),i(2,r.innerHTML=o.map((t,s,m)=>s>0?(m[s-1].nextPrefix||H)+t.input+"<br />"+t.textResult.replaceAll(`
`,"<br />"):H+t.input+"<br />"+t.textResult.replaceAll(`
`,"<br />")).join("<br />"),r),i(3,c=r.scrollHeight),i(0,u=""),r==null||r.scrollTo({top:r.scrollHeight,left:0,behavior:"smooth"})}Y(()=>{p&&(i(5,p.innerHTML=H,p),x==null||x.focus())});function h(f){S[f?"unshift":"push"](()=>{r=f,i(2,r)})}function q(f){S[f?"unshift":"push"](()=>{p=f,i(5,p)})}function _(){u=this.value,i(0,u)}function d(f){S[f?"unshift":"push"](()=>{x=f,i(1,x)})}return[u,x,r,c,o,p,$,h,q,_,d]}class se extends Q{constructor(l){super(),X(this,l,ee,I,U,{})}}export{se as component};
